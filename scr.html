<!doctype html>
<html>
  <head>
    <metacharset="UTF8">
    <style>
      .moveToTop {
        position: fixed;
        bottom: 20px;
        right: 20px;
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="dummy"></div>
    <button type = "button" class="moveToTop">上に戻る</button>
    <script>
      const dummyContent = document.querySelector('.dummy');
      for(let i = 0; i < 3000; i++ ) {
      dummyContent.textContent += `テキスト ${i}`;
      }
      window.addEventListener('scroll', function() {
        const button = document.querySelector('.moveToTop');
        const scrollTop = document.documentElement.scrollTop;
        const htmlHeight = document.querySelector('.dummy').scrollHeight;
        if (scrollTop + window.innerHeight >= htmlHeight) {
          button.style.display = 'block';
        } else {
          button.style.display = 'none';
        }
      });

      const button = document.querySelector('.moveToTop');
      button.addEventListener('click', function() {
        window.scrollTo({
          top: 0,
          behavior: "smooth"
        });
      });
    </script>
  </body>
</html>
